# 4-5. ë°˜ì‘í˜• effectì˜ ìƒëª…ì£¼ê¸°

> **í•™ìŠµë‚´ìš©**
>
> - Effectì˜ ë¼ì´í”„ì‚¬ì´í´ì´ ì»´í¬ë„ŒíŠ¸ì˜ ë¼ì´í”„ì‚¬ì´í´ê³¼ ë‹¤ë¥¸ ì 
> - ê° ê°œë³„ Effectë¥¼ ë¶„ë¦¬í•´ì„œ ìƒê°í•˜ëŠ” ë°©ë²•
> - Effectë¥¼ ë‹¤ì‹œ ë™ê¸°í™”í•´ì•¼ í•˜ëŠ” ì‹œê¸°ì™€ ê·¸ ì´ìœ 
> - Effectì˜ ì¢…ì†ì„±ì´ ê²°ì •ë˜ëŠ” ë°©ë²•
> - ê°’ì´ ë°˜ì‘í˜•ì´ë¼ëŠ” ê²ƒì˜ ì˜ë¯¸
> - ë¹ˆ ì˜ì¡´ì„± ë°°ì—´ì´ ì˜ë¯¸í•˜ëŠ” ê²ƒ
> - Reactê°€ ë¦°í„°ë¡œ ì˜ì¡´ì„±ì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•˜ëŠ” ë°©ë²•
> - ë¦°í„°ì— ë™ì˜í•˜ì§€ ì•Šì„ ë•Œ í•´ì•¼ í•  ì¼

## Effectì˜ ë¼ì´í”„ì‚¬ì´í´

ëª¨ë“  React ì»´í¬ë„ŒíŠ¸ëŠ” ë™ì¼í•œ ë¼ì´í”„ì‚¬ì´í´ì„ ê±°ì¹©ë‹ˆë‹¤:

- ì»´í¬ë„ŒíŠ¸ëŠ” í™”ë©´ì— ì¶”ê°€ë  ë•Œ *ë§ˆìš´íŠ¸*ë©ë‹ˆë‹¤.
- ì»´í¬ë„ŒíŠ¸ëŠ” ìƒˆë¡œìš´ í”„ë¡œí¼í‹°ë‚˜ ìƒíƒœë¥¼ ë°›ìœ¼ë©´ *ì—…ë°ì´íŠ¸*ë©ë‹ˆë‹¤. ì´ëŠ” ë³´í†µ ìƒí˜¸ì‘ìš©ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ ë°œìƒí•©ë‹ˆë‹¤.
- í™”ë©´ì—ì„œ ì œê±°ë˜ë©´ ì»´í¬ë„ŒíŠ¸ê°€ *ë§ˆìš´íŠ¸ í•´ì œ*ë©ë‹ˆë‹¤.

**ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•´ ìƒê°í•˜ëŠ” ì¢‹ì€ ë°©ë²•ì´ì§€ë§Œ Effectì— ëŒ€í•´ì„œëŠ” ìƒê°í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.** ëŒ€ì‹  ê° Effectë¥¼ ì»´í¬ë„ŒíŠ¸ì˜ ë¼ì´í”„ì‚¬ì´í´ê³¼ ë…ë¦½ì ìœ¼ë¡œ ìƒê°í•´ë³´ì„¸ìš”. EffectëŠ” [ì™¸ë¶€ ì‹œìŠ¤í…œì„ í˜„ì¬ propê³¼ stateì— ë™ê¸°í™”í•˜ëŠ” ë°©ë²•](https://react.dev/learn/synchronizing-with-effects)ì„ ì„¤ëª…í•©ë‹ˆë‹¤. ì½”ë“œê°€ ë³€ê²½ë˜ë©´ ì´ ë™ê¸°í™”ë¥¼ ë” ìì£¼ ë˜ëŠ” ëœ ìì£¼ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤.

ì´ ì ì„ ì„¤ëª…í•˜ê¸° ìœ„í•´ ì»´í¬ë„ŒíŠ¸ë¥¼ ì±„íŒ… ì„œë²„ì— ì—°ê²°í•˜ëŠ” Effectë¥¼ ì˜ˆë¡œ ë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤:

```javascript
const serverUrl = 'https://localhost:1234';

function ChatRoom({ roomId }) {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => {
      connection.disconnect();
    };
  }, [roomId]);
  // ...
}
```

Effectì˜ ë³¸ë¬¸ì—ëŠ” **ë™ê¸°í™” ì‹œì‘** ë°©ë²•ì´ ëª…ì‹œë˜ì–´ ìˆìŠµë‹ˆë‹¤:

```javascript
// ...
const connection = createConnection(serverUrl, roomId);
connection.connect();
// ...
```

Effectì—ì„œ ë°˜í™˜ë˜ëŠ” í´ë¦°ì—… í•¨ìˆ˜ëŠ” **ë™ê¸°í™”ë¥¼ ì¤‘ì§€**í•˜ëŠ” ë°©ë²•ì„ ì§€ì •í•©ë‹ˆë‹¤:

```javascript
// ...
return () => {
  connection.disconnect();
};
// ...
```

ì§ê´€ì ìœ¼ë¡œ ReactëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œ **ë™ê¸°í™”ë¥¼ ì‹œì‘**í•˜ê³  ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ í•´ì œë  ë•Œ ë™ê¸°í™”ë¥¼ ì¤‘ì§€í•  ê²ƒì´ë¼ê³  ìƒê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ê²ƒì´ ì´ì•¼ê¸°ì˜ ëì´ ì•„ë‹™ë‹ˆë‹¤! ë•Œë¡œëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ëœ ìƒíƒœì—ì„œ **ë™ê¸°í™”ë¥¼ ì—¬ëŸ¬ ë²ˆ ì‹œì‘í•˜ê³  ì¤‘ì§€**í•´ì•¼ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

ì´ëŸ¬í•œ ë™ì‘ì´ í•„ìš”í•œ ì´ìœ ì™€ ë°œìƒ ì‹œê¸°, ê·¸ë¦¬ê³  ì´ëŸ¬í•œ ë™ì‘ì„ ì œì–´í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

> **Note**  
> ì¼ë¶€ EffectëŠ” í´ë¦°ì—… í•¨ìˆ˜ë¥¼ ì „í˜€ ë°˜í™˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. [ëŒ€ë¶€ë¶„ì˜ ê²½ìš°](https://react.dev/learn/synchronizing-with-effects#how-to-handle-the-effect-firing-twice-in-development) í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ê³  ì‹¶ê² ì§€ë§Œ, ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš° ReactëŠ” ì•„ë¬´ ì‘ì—…ë„ í•˜ì§€ ì•ŠëŠ” ë¹ˆ í´ë¦°ì—… í•¨ìˆ˜ë¥¼ ë°˜í™˜í•œ ê²ƒì²˜ëŸ¼ ë™ì‘í•©ë‹ˆë‹¤.

### ë™ê¸°í™”ê°€ ë‘ ë²ˆ ì´ìƒ ìˆ˜í–‰ë˜ì–´ì•¼ í•˜ëŠ” ì´ìœ 

ì´ `ChatRoom` ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ìš©ìê°€ ë“œë¡­ë‹¤ìš´ì—ì„œ ì„ íƒí•œ `roomId` í”„ë¡œí¼í‹°ë¥¼ ë°›ëŠ”ë‹¤ê³  ê°€ì •í•´ ë³´ì„¸ìš”. ì²˜ìŒì— ì‚¬ìš©ìê°€ `"general"` ì±„íŒ…ë°©ì„ `roomId`ë¡œ ì„ íƒí–ˆë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤. ì•±ì— `"general"` ì±„íŒ…ë°©ì´ í‘œì‹œë©ë‹ˆë‹¤:

```javascript
const serverUrl = 'https://localhost:1234';

function ChatRoom({ roomId /* "general" */ }) {
  // ...
  return <h1>Welcome to the {roomId} room!</h1>;
}
```

UIê°€ í‘œì‹œë˜ë©´ Reactê°€ Effectë¥¼ ì‹¤í–‰í•˜ì—¬ **ë™ê¸°í™”ë¥¼ ì‹œì‘**í•©ë‹ˆë‹¤. `"general"` ë°©ì— ì—°ê²°ë©ë‹ˆë‹¤:

```javascript
function ChatRoom({ roomId /* "general" */ }) {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId); // Connects to the "general" room
    connection.connect();
    return () => {
      connection.disconnect(); // Disconnects from the "general" room
    };
  }, [roomId]);
  // ...
}
```

ì§€ê¸ˆê¹Œì§€ëŠ” ê´œì°®ìŠµë‹ˆë‹¤.

ë‚˜ì¤‘ì— ì‚¬ìš©ìê°€ ë“œë¡­ë‹¤ìš´ì—ì„œ ë‹¤ë¥¸ ë°©ì„ ì„ íƒí•©ë‹ˆë‹¤(ì˜ˆ: `"travel"`). ë¨¼ì € Reactê°€ UIë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤:

```javascript
function ChatRoom({ roomId /* "travel" */ }) {
  // ...
  return <h1>Welcome to the {roomId} room!</h1>;
}
```

ë‹¤ìŒì— ì–´ë–¤ ì¼ì´ ì¼ì–´ë‚ ì§€ ìƒê°í•´ ë³´ì„¸ìš”. ì‚¬ìš©ìëŠ” UIì—ì„œ `"travel"`ì´ ì„ íƒëœ ëŒ€í™”ë°©ì„ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì§€ë‚œë²ˆì— ì‹¤í–‰ëœ EffectëŠ” ì—¬ì „íˆ `"general"` ëŒ€í™”ë°©ì— ì—°ê²°ë˜ì–´ ìˆìŠµë‹ˆë‹¤. **`roomId` í”„ë¡œí¼í‹°ê°€ ë³€ê²½ë˜ì—ˆê¸° ë•Œë¬¸ì— ê·¸ ë•Œ Effect(`"general"` ë°©ì— ì—°ê²°)ê°€ ìˆ˜í–‰í•œ ì‘ì—…ì´ ë” ì´ìƒ UIì™€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**

ì´ ì‹œì ì—ì„œ Reactê°€ ë‘ ê°€ì§€ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸°ë¥¼ ì›í•©ë‹ˆë‹¤:

1.  ì´ì „ `roomId`ì™€ì˜ ë™ê¸°í™”ë¥¼ ì¤‘ì§€í•©ë‹ˆë‹¤(`"general"` ë£¸ì—ì„œ ì—°ê²° í•´ì œ).
2.  ìƒˆ `roomId`ì™€ ë™ê¸°í™” ì‹œì‘ ( `"travel"` ê°ì‹¤ê³¼ ì—°ê²°)

**ë‹¤í–‰íˆë„ ì—¬ëŸ¬ë¶„ì€ ì´ë¯¸ ì´ ë‘ ê°€ì§€ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì„ Reactì— ê°€ë¥´ì³¤ìŠµë‹ˆë‹¤!** Effectì˜ ë³¸ë¬¸ì€ ë™ê¸°í™”ë¥¼ ì‹œì‘í•˜ëŠ” ë°©ë²•ì„ ì§€ì •í•˜ê³ , í´ë¦°ì—… í•¨ìˆ˜ëŠ” ë™ê¸°í™”ë¥¼ ì¤‘ì§€í•˜ëŠ” ë°©ë²•ì„ ì§€ì •í•©ë‹ˆë‹¤. ì´ì œ Reactê°€ í•´ì•¼ í•  ì¼ì€ ì˜¬ë°”ë¥¸ ìˆœì„œë¡œ ì˜¬ë°”ë¥¸ í”„ë¡œí¼í‹°ì™€ ìƒíƒœë¡œ í˜¸ì¶œí•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤. ì •í™•íˆ ì–´ë–»ê²Œ ì¼ì–´ë‚˜ëŠ”ì§€ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

### ë¦¬ì•¡íŠ¸ê°€ Effectë¥¼ ì¬ë™ê¸°í™”í•˜ëŠ” ë°©ë²•

`ChatRoom` ì»´í¬ë„ŒíŠ¸ì˜ `roomId` í”„ë¡œí¼í‹°ê°€ ìƒˆë¡œìš´ ê°’ì„ ë°›ì•˜ë‹¤ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì„¸ìš”. ì´ì „ì—ëŠ” `"general"`ì´ì—ˆì§€ë§Œ ì´ì œëŠ” `"travel"`"ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ë°©ì— ë‹¤ì‹œ ì—°ê²°í•˜ë ¤ë©´ Reactê°€ Effectë¥¼ ë‹¤ì‹œ ë™ê¸°í™”í•´ì•¼ í•©ë‹ˆë‹¤.

**ë™ê¸°í™”ë¥¼ ì¤‘ì§€**í•˜ê¸° ìœ„í•´ ReactëŠ” `"general"` ë°©ì— ì—°ê²°í•œ í›„ Effectê°€ ë°˜í™˜í•œ í´ë¦°ì—… í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤. `roomId`ê°€ `"general`"ì´ë¯€ë¡œ, ì •ë¦¬ í•¨ìˆ˜ëŠ” `"general"` ë°©ì—ì„œ ì—°ê²°ì„ ëŠìŠµë‹ˆë‹¤:

```javascript
function ChatRoom({ roomId /* "general" */ }) {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId); // Connects to the "general" room
    connection.connect();
    return () => {
      connection.disconnect(); // Disconnects from the "general" room
    };
    // ...
  });
}
```

ê·¸ëŸ¬ë©´ ReactëŠ” ì´ ë Œë”ë§ ì¤‘ì— ì—¬ëŸ¬ë¶„ì´ ì œê³µí•œ Effectë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. ì´ë²ˆì—ëŠ” `roomId`ê°€ `"travel"`ì´ë¯€ë¡œ `"travel"` ì±„íŒ…ë°©ê³¼ **ë™ê¸°í™”ë˜ê¸° ì‹œì‘**í•©ë‹ˆë‹¤(ê²°êµ­ í´ë¦°ì—… í•¨ìˆ˜ë„ í˜¸ì¶œë  ë•Œê¹Œì§€):

```javascript
function ChatRoom({ roomId /* "travel" */ }) {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId); // Connects to the "travel" room
    connection.connect();
    // ...
  });
}
```

ë•ë¶„ì— ì´ì œ ì‚¬ìš©ìê°€ UIì—ì„œ ì„ íƒí•œ ë°©ê³¼ ë™ì¼í•œ ë°©ì— ì—°ê²°ë©ë‹ˆë‹¤. ì¬ì•™ì„ í”¼í–ˆìŠµë‹ˆë‹¤!

ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ë¥¸ `roomId`ë¡œ ë‹¤ì‹œ ë Œë”ë§í•  ë•Œë§ˆë‹¤ Effectê°€ ë‹¤ì‹œ ë™ê¸°í™”ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì‚¬ìš©ìê°€ `roomId`ë¥¼ `"travel"`ì—ì„œ `"music"`ìœ¼ë¡œ ë³€ê²½í•œë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤. ReactëŠ” ë‹¤ì‹œ ì •ë¦¬ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ Effect ë™ê¸°í™”ë¥¼ ì¤‘ì§€í•©ë‹ˆë‹¤(`"travel"` ë°©ì—ì„œ ì—°ê²°ì„ ëŠìŠµë‹ˆë‹¤). ê·¸ëŸ° ë‹¤ìŒ ìƒˆ `roomId` í”„ë¡œí¼í‹°ë¡œ ë³¸ë¬¸ì„ ì‹¤í–‰í•˜ì—¬ ë™ê¸°í™”ë¥¼ ë‹¤ì‹œ ì‹œì‘í•©ë‹ˆë‹¤(`"music"` ë°©ì— ì—°ê²°).

ë§ˆì§€ë§‰ìœ¼ë¡œ ì‚¬ìš©ìê°€ ë‹¤ë¥¸ í™”ë©´ìœ¼ë¡œ ì´ë™í•˜ë©´ ChatRoomì´ ë§ˆìš´íŠ¸ í•´ì œë©ë‹ˆë‹¤. ì´ì œ ì—°ê²° ìƒíƒœë¥¼ ìœ ì§€í•  í•„ìš”ê°€ ì „í˜€ ì—†ìŠµë‹ˆë‹¤. ReactëŠ” ë§ˆì§€ë§‰ìœ¼ë¡œ Effect ë™ê¸°í™”ë¥¼ ì¤‘ì§€í•˜ê³  "ìŒì•…" ì±„íŒ…ë°©ì—ì„œ ì—°ê²°ì„ ëŠìŠµë‹ˆë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ ì‚¬ìš©ìê°€ ë‹¤ë¥¸ í™”ë©´ìœ¼ë¡œ ì´ë™í•˜ë©´ `ChatRoom`ì´ ë§ˆìš´íŠ¸ í•´ì œë©ë‹ˆë‹¤. ì´ì œ ì—°ê²° ìƒíƒœë¥¼ ìœ ì§€í•  í•„ìš”ê°€ ì „í˜€ ì—†ìŠµë‹ˆë‹¤. ReactëŠ” ë§ˆì§€ë§‰ìœ¼ë¡œ Effect **ë™ê¸°í™”ë¥¼ ì¤‘ì§€**í•˜ê³  `"music"` ì±„íŒ…ë°©ì—ì„œ ì—°ê²°ì„ ëŠìŠµë‹ˆë‹¤.

### Effectì˜ ê´€ì ì—ì„œ ìƒê°í•˜ê¸°

`ChatRoom` ì»´í¬ë„ŒíŠ¸ì˜ ê´€ì ì—ì„œ ì¼ì–´ë‚œ ëª¨ë“  ì¼ì„ ìš”ì•½í•´ ë³´ê² ìŠµë‹ˆë‹¤:

1.  `roomId`ê°€ `general`ìœ¼ë¡œ ì„¤ì •ëœ `ChatRoom` ë§ˆìš´íŠ¸
2.  ë°©ë²ˆí˜¸ê°€ `travel`ìœ¼ë¡œ ì„¤ì •ëœ `ChatRoom` ì—…ë°ì´íŠ¸ë¨
3.  `roomId`ê°€ `music`ìœ¼ë¡œ ì„¤ì •ëœ `ChatRoom` ì—…ë°ì´íŠ¸ë¨
4.  `ChatRoom` ë§ˆìš´íŠ¸ í•´ì œ

ì»´í¬ë„ŒíŠ¸ ë¼ì´í”„ì‚¬ì´í´ì˜ ê° ì‹œì ì—ì„œ EffectëŠ” ì„œë¡œ ë‹¤ë¥¸ ì‘ì—…ì„ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤:

1.  `general` ë°©ì— ì—°ê²°ëœ Effect
2.  ë‹¹ì‹ ì˜ Effectê°€ `general` ë°©ì—ì„œ ë¶„ë¦¬ë˜ì–´ `travel` ë°©ì— ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.
3.  `travel` ë£¸ì—ì„œ ì—°ê²°ì´ ëŠì–´ì§€ê³  `music` ë£¸ì— ì—°ê²°ëœ Effect
4.  `music` ë£¸ì—ì„œ ì—°ê²°ì´ ëŠì–´ì§„ Effect

ì´ì œ Effect ìì²´ì˜ ê´€ì ì—ì„œ ë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚¬ëŠ”ì§€ ìƒê°í•´ ë´…ì‹œë‹¤:

```javascript
useEffect(() => {
  // Your Effect connected to the room specified with roomId...
  const connection = createConnection(serverUrl, roomId);
  connection.connect();
  return () => {
    // ...until it disconnected
    connection.disconnect();
  };
}, [roomId]);
```

ì´ ì½”ë“œì˜ êµ¬ì¡°ëŠ” ì–´ë–¤ ì¼ì´ ì¼ì–´ë‚¬ëŠ”ì§€ ê²¹ì¹˜ì§€ ì•ŠëŠ” ê¸°ê°„ì˜ ì—°ì†ìœ¼ë¡œ ë³´ëŠ” ë° ì˜ê°ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

1.  `"general"` ë°©ì— ì—°ê²°ëœ Effect(ì—°ê²°ì´ ëŠì–´ì§ˆ ë•Œê¹Œì§€)
2.  `"travel"` ë°©ì— ì—°ê²°ëœ Effect (ì—°ê²°ì´ ëŠì–´ì§ˆ ë•Œê¹Œì§€)
3.  `"music"` ë£¸ì— ì—°ê²°ëœ Effect (ì—°ê²°ì´ ëŠì–´ì§ˆ ë•Œê¹Œì§€)

ì´ì „ì—ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ê´€ì ì—ì„œ ìƒê°í–ˆìŠµë‹ˆë‹¤. ì»´í¬ë„ŒíŠ¸ì˜ ê´€ì ì—ì„œ ë³´ë©´ Effectë¥¼ 'ë Œë”ë§ í›„' ë˜ëŠ” 'ë§ˆìš´íŠ¸ í•´ì œ ì „'ê³¼ ê°™ì€ íŠ¹ì • ì‹œì ì— ì‹¤í–‰ë˜ëŠ” 'ì½œë°±' ë˜ëŠ” 'ë¼ì´í”„ì‚¬ì´í´ ì´ë²¤íŠ¸'ë¡œ ìƒê°í•˜ê¸° ì‰¬ì› ìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì‚¬ê³  ë°©ì‹ì€ ë§¤ìš° ë¹ ë¥´ê²Œ ë³µì¡í•´ì§€ë¯€ë¡œ í”¼í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì¢‹ìŠµë‹ˆë‹¤.

**ëŒ€ì‹  í•­ìƒ í•œ ë²ˆì— í•˜ë‚˜ì˜ ì‹œì‘/ì¤‘ì§€ ì‚¬ì´í´ì—ë§Œ ì§‘ì¤‘í•˜ì„¸ìš”. êµ¬ì„± ìš”ì†Œë¥¼ ë§ˆìš´íŠ¸, ì—…ë°ì´íŠ¸ ë˜ëŠ” ë§ˆìš´íŠ¸ í•´ì œí•˜ëŠ” ê²ƒì€ ì¤‘ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë™ê¸°í™”ë¥¼ ì‹œì‘í•˜ëŠ” ë°©ë²•ê³¼ ì¤‘ì§€í•˜ëŠ” ë°©ë²•ë§Œ ì„¤ëª…í•˜ë©´ ë©ë‹ˆë‹¤. ì´ ì‘ì—…ì„ ì˜ ìˆ˜í–‰í•˜ë©´ í•„ìš”í•œ íšŸìˆ˜ë§Œí¼ Effectë¥¼ ì‹œì‘í•˜ê³  ì¤‘ì§€í•  ìˆ˜ ìˆëŠ” íƒ„ë ¥ì„±ì„ í™•ë³´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

JSXë¥¼ ìƒì„±í•˜ëŠ” ë Œë”ë§ ë¡œì§ì„ ì‘ì„±í•  ë•Œ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë˜ëŠ”ì§€ ì—…ë°ì´íŠ¸ë˜ëŠ”ì§€ ìƒê°í•˜ì§€ ì•ŠëŠ” ê²ƒì„ ë– ì˜¬ë¦¬ë©´ ì´í•´ê°€ ì‰¬ìš¸ ê²ƒì…ë‹ˆë‹¤. í™”ë©´ì— ë¬´ì—‡ì´ í‘œì‹œë˜ì–´ì•¼ í•˜ëŠ”ì§€ ì„¤ëª…í•˜ë©´ [ë‚˜ë¨¸ì§€ëŠ” Reactê°€ ì•Œì•„ì„œ ì²˜ë¦¬í•©ë‹ˆë‹¤.](https://beta.reactjs.org/learn/reacting-to-input-with-state)

### Reactê°€ Effectê°€ ë‹¤ì‹œ ë™ê¸°í™”ë  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë°©ë²•

ë‹¤ìŒì€ ì‹¤ì œ ì‚¬ìš© ê°€ëŠ¥í•œ ì˜ˆì œì…ë‹ˆë‹¤. "ì±„íŒ… ì—´ê¸°"ë¥¼ ëˆŒëŸ¬ `ChatRoom` ì»´í¬ë„ŒíŠ¸ë¥¼ ë§ˆìš´íŠ¸í•©ë‹ˆë‹¤:

```javascript
import { useState, useEffect } from 'react';
import { createConnection } from './chat.js';

const serverUrl = 'https://localhost:1234';

function ChatRoom({ roomId }) {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => connection.disconnect();
  }, [roomId]);
  return <h1>Welcome to the {roomId} room!</h1>;
}

export default function App() {
  const [roomId, setRoomId] = useState('general');
  const [show, setShow] = useState(false);
  return (
    <>
      <label>
        Choose the chat room:{' '}
        <select value={roomId} onChange={(e) => setRoomId(e.target.value)}>
          <option value='general'>general</option>
          <option value='travel'>travel</option>
          <option value='music'>music</option>
        </select>
      </label>
      <button onClick={() => setShow(!show)}>
        {show ? 'Close chat' : 'Open chat'}
      </button>
      {show && <hr />}
      {show && <ChatRoom roomId={roomId} />}
    </>
  );
}
```

ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë§ˆìš´íŠ¸ë  ë•Œ 3ê°œì˜ ë¡œê·¸ê°€ í‘œì‹œë©ë‹ˆë‹¤:

1. `âœ… Connecting to "general" room at https://localhost:1234...` _(development-only)_
2. `âŒ Disconnected from "general" room at https://localhost:1234.` _(development-only)_
3. `âœ… Connecting to "general" room at https://localhost:1234...`

ì²˜ìŒ ë‘ ê°œì˜ ë¡œê·¸ëŠ” ê°œë°œ ì „ìš©ì…ë‹ˆë‹¤. ê°œë°œ ì‹œ ReactëŠ” í•­ìƒ ê° ì»´í¬ë„ŒíŠ¸ë¥¼ í•œ ë²ˆì”© ë‹¤ì‹œ ë§ˆìš´íŠ¸í•©ë‹ˆë‹¤. **ë‹¤ì‹œ ë§í•´, ReactëŠ” ê°œë°œ ë‹¨ê³„ì—ì„œ ì¦‰ì‹œ ê°•ì œë¡œ ë™ê¸°í™”í•˜ì—¬ Effectê°€ ë‹¤ì‹œ ë™ê¸°í™”ë  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.** ì´ëŠ” ë„ì–´ë½ì´ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ë¬¸ì„ ì—´ì—ˆë‹¤ê°€ í•œ ë²ˆ ë” ë‹«ëŠ” ê²ƒì„ ë– ì˜¬ë¦¬ê²Œ í•©ë‹ˆë‹¤. ReactëŠ” ê°œë°œ ê³¼ì •ì—ì„œ Effectë¥¼ í•œ ë²ˆ ë” ì‹œì‘í•˜ê³  ì¤‘ì§€í•˜ì—¬ [í´ë¦°ì—…ì„ ì˜ êµ¬í˜„í–ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.](https://react.dev/learn/synchronizing-with-effects#how-to-handle-the-effect-firing-twice-in-development)

ì‹¤ì œë¡œ Effectê°€ ë‹¤ì‹œ ë™ê¸°í™”ë˜ëŠ” ì£¼ëœ ì´ìœ ëŠ” Effectê°€ ì‚¬ìš©í•˜ëŠ” ì¼ë¶€ ë°ì´í„°ê°€ ë³€ê²½ëœ ê²½ìš°ì…ë‹ˆë‹¤. ìœ„ì˜ ìƒŒë“œë°•ìŠ¤ì—ì„œ ì„ íƒí•œ ì±„íŒ…ë°©ì„ ë³€ê²½í•©ë‹ˆë‹¤. `roomId`ê°€ ë³€ê²½ë˜ë©´ Effectê°€ ë‹¤ì‹œ ë™ê¸°í™”ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜ ë‹¤ì‹œ ë™ê¸°í™”í•´ì•¼ í•˜ëŠ” ë” íŠ¹ì´í•œ ê²½ìš°ë„ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì±„íŒ…ì´ ì—´ë ¤ ìˆëŠ” ìƒíƒœì—ì„œ ìœ„ì˜ ìƒŒë“œë°•ìŠ¤ì—ì„œ `ì„œë²„ URL`ì„ í¸ì§‘í•´ ë³´ì„¸ìš”. ì½”ë“œ í¸ì§‘ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ Effectê°€ ì–´ë–»ê²Œ ë‹¤ì‹œ ë™ê¸°í™”ë˜ëŠ”ì§€ ì£¼ëª©í•˜ì„¸ìš”. ì•ìœ¼ë¡œ ReactëŠ” ì¬ë™ê¸°í™”ë¥¼ í™œìš©í•˜ëŠ” ë” ë§ì€ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Reactê°€ Effectë¥¼ ë‹¤ì‹œ ë™ê¸°í™”í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì¸ì‹í•˜ëŠ” ë°©ë²•

`roomId`ê°€ ë³€ê²½ëœ í›„ Effectë¥¼ ë‹¤ì‹œ ë™ê¸°í™”í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì–´ë–»ê²Œ Reactê°€ ì•Œì•˜ëŠ”ì§€ ê¶ê¸ˆí•  ê²ƒì…ë‹ˆë‹¤. ì´ Effectì˜ ì½”ë“œê°€ `roomId`ì— ì¢…ì†ë˜ì–´ ìˆìŒì„ [ì¢…ì†ì„± ëª©ë¡](https://react.dev/learn/synchronizing-with-effects#step-2-specify-the-effect-dependencies)ì— í¬í•¨ì‹œì¼œì„œ Reactì— ì•Œë ¸ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤:

```javascript
function ChatRoom({ roomId }) {
  // The roomId prop may change over time
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId); // This Effect reads roomId
    connection.connect();
    return () => {
      connection.disconnect();
    };
  }, [roomId]); // So you tell React that this Effect "depends on" roomId
  // ...
}
```

ì‘ë™ ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

1.  `roomId`ëŠ” propì´ë¯€ë¡œ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ë³€ê²½ë  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê³  ìˆìŠµë‹ˆë‹¤.
2.  Effectê°€ `roomId`ë¥¼ ì½ëŠ”ë‹¤ëŠ” ê²ƒì„ ì•Œì•˜ìŠµë‹ˆë‹¤ (ë”°ë¼ì„œ í•´ë‹¹ ë¡œì§ì€ ë‚˜ì¤‘ì— ë³€ê²½ë  ìˆ˜ ìˆëŠ” ê°’ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤).
3.  ì´ ë•Œë¬¸ì— Effectì˜ ì¢…ì†ì„±ìœ¼ë¡œ ì§€ì •í–ˆìŠµë‹ˆë‹¤(`roomId`ê°€ ë³€ê²½ë  ë•Œ ë‹¤ì‹œ ë™ê¸°í™”ë˜ë„ë¡).

ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ ë Œë”ë§ë  ë•Œë§ˆë‹¤ ReactëŠ” ì‚¬ìš©ìê°€ ì „ë‹¬í•œ ì˜ì¡´ì„± ë°°ì—´ì„ ì‚´í´ë´…ë‹ˆë‹¤. ë°°ì—´ì˜ ê°’ ì¤‘ í•˜ë‚˜ë¼ë„ ì´ì „ ë Œë”ë§ ì¤‘ì— ì „ë‹¬í•œ ë™ì¼í•œ ì§€ì ì˜ ê°’ê³¼ ë‹¤ë¥´ë©´ ReactëŠ” Effectë¥¼ ë‹¤ì‹œ ë™ê¸°í™”í•©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ì´ˆê¸° ë Œë”ë§ ì¤‘ì— `["general"]`ì„ ì „ë‹¬í–ˆê³  ë‚˜ì¤‘ì— ë‹¤ìŒ ë Œë”ë§ ì¤‘ì— `["travel"]`ì„ ì „ë‹¬í•œ ê²½ìš°, ReactëŠ” `"general"`ê³¼ `"travel"`ì„ ë¹„êµí•©ë‹ˆë‹¤. ì´ ê°’ì€ ([[Object.is]](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is)ì™€ ë¹„êµí–ˆì„ ë•Œ) ë‹¤ë¥¸ ê°’ì´ê¸° ë•Œë¬¸ì— ReactëŠ” Effectë¥¼ ë‹¤ì‹œ ë™ê¸°í™”í•  ê²ƒì…ë‹ˆë‹¤. ë°˜ë©´ì— ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ ë Œë”ë§ë˜ì§€ë§Œ `roomId`ê°€ ë³€ê²½ë˜ì§€ ì•Šì€ ê²½ìš° EffectëŠ” ë™ì¼í•œ ë°©ì— ì—°ê²°ëœ ìƒíƒœë¡œ ìœ ì§€ë©ë‹ˆë‹¤.

### ê° EffectëŠ” ë³„ë„ì˜ ë™ê¸°í™” í”„ë¡œì„¸ìŠ¤ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

ì´ ë¡œì§ì€ ì´ë¯¸ ì‘ì„±í•œ Effectì™€ ë™ì‹œì— ì‹¤í–‰ë˜ì–´ì•¼ í•˜ë¯€ë¡œ ê´€ë ¨ ì—†ëŠ” ë¡œì§ì„ Effectì— ì¶”ê°€í•˜ì§€ ë§ˆì„¸ìš”. ì˜ˆë¥¼ ë“¤ì–´ ì‚¬ìš©ìê°€ ë°©ì„ ë°©ë¬¸í•  ë•Œ ë¶„ì„ ì´ë²¤íŠ¸ë¥¼ ì „ì†¡í•˜ê³  ì‹¶ë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤. ì´ë¯¸ `roomId`ì— ì˜ì¡´í•˜ëŠ” Effectê°€ ìˆìœ¼ë¯€ë¡œ ë°”ë¡œ ê±°ê¸°ì— ë¶„ì„ í˜¸ì¶œì„ ì¶”ê°€í•˜ê³  ì‹¶ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```javascript
function ChatRoom({ roomId }) {
  useEffect(() => {
    logVisit(roomId);
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => {
      connection.disconnect();
    };
  }, [roomId]);
  // ...
}
```

í•˜ì§€ë§Œ ë‚˜ì¤‘ì— ì´ Effectì— ì—°ê²°ì„ ë‹¤ì‹œ ì„¤ì •í•´ì•¼ í•˜ëŠ” ë‹¤ë¥¸ ì¢…ì†ì„±ì„ ì¶”ê°€í•œë‹¤ê³  ê°€ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤. ì´ Effectê°€ ë‹¤ì‹œ ë™ê¸°í™”ë˜ë©´ ì˜ë„í•˜ì§€ ì•Šì€ ë™ì¼í•œ ë°©ì— ëŒ€í•´ `logVisit(roomId)`ë„ í˜¸ì¶œí•˜ê²Œ ë©ë‹ˆë‹¤. ë°©ë¬¸ì„ ê¸°ë¡í•˜ëŠ” ê²ƒì€ ì—°ê²°ê³¼ëŠ” **ë³„ê°œì˜ í”„ë¡œì„¸ìŠ¤**ì…ë‹ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë‘ ê°œì˜ ê°œë³„ Effectë¡œ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤:

```javascript
function ChatRoom({ roomId }) {
  useEffect(() => {
    logVisit(roomId);
  }, [roomId]);

  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    // ...
  }, [roomId]);
  // ...
}
```

**ì½”ë“œì˜ ê° EffectëŠ” ë³„ë„ì˜ ë…ë¦½ì ì¸ ë™ê¸°í™” í”„ë¡œì„¸ìŠ¤ë¥¼ ë‚˜íƒ€ë‚´ì•¼ í•©ë‹ˆë‹¤.**

ìœ„ì˜ ì˜ˆì‹œì—ì„œëŠ” í•œ Effectë¥¼ ì‚­ì œí•´ë„ ë‹¤ë¥¸ Effectì˜ ë¡œì§ì´ ê¹¨ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ëŠ” ì„œë¡œ ë‹¤ë¥¸ ê²ƒì„ ë™ê¸°í™”í•˜ë¯€ë¡œ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ í•©ë¦¬ì ì´ë¼ëŠ” ê²ƒì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ë°˜ë©´, ì¼ê´€ëœ ë¡œì§ì„ ë³„ë„ì˜ Effectë¡œ ë¶„ë¦¬í•˜ë©´ ì½”ë“œê°€ "ë” ê¹”ë”í•´" ë³´ì¼ ìˆ˜ ìˆì§€ë§Œ [ìœ ì§€ ê´€ë¦¬ê°€ ë” ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤](https://react.dev/learn/you-might-not-need-an-effect#chains-of-computations). ë”°ë¼ì„œ ì½”ë“œê°€ ë” ê¹”ë”í•´ ë³´ì´ëŠ”ì§€ ì—¬ë¶€ê°€ ì•„ë‹ˆë¼ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì¼í•œì§€ ë˜ëŠ” ë¶„ë¦¬ë˜ì–´ ìˆëŠ”ì§€ë¥¼ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.

## ë°˜ì‘í˜• ê°’ì— "ë°˜ì‘"í•˜ëŠ” Effect

EffectëŠ” ë‘ ê°œì˜ ë³€ìˆ˜(`serverUrl` ë° `roomId`)ë¥¼ ì½ì§€ë§Œ ì¢…ì†ì„±ìœ¼ë¡œ `roomId` ë§Œ ì§€ì •í–ˆìŠµë‹ˆë‹¤:

```javascript
const serverUrl = 'https://localhost:1234';

function ChatRoom({ roomId }) {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => {
      connection.disconnect();
    };
  }, [roomId]);
  // ...
}
```

`serverUrl`ì´ ì¢…ì†ì„±ì´ ë  í•„ìš”ê°€ ì—†ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?

ì´ëŠ” ë¦¬ë Œë”ë§ìœ¼ë¡œ ì¸í•´ `serverUrl`ì´ ë³€ê²½ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì»´í¬ë„ŒíŠ¸ê°€ ëª‡ ë²ˆ, ì–´ë–¤ propê³¼ ìƒíƒœë¡œ ë‹¤ì‹œ ë Œë”ë§í•˜ë“  í•­ìƒ ë™ì¼í•©ë‹ˆë‹¤. `serverUrl`ì€ ì ˆëŒ€ ë³€í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì¢…ì†ì„±ìœ¼ë¡œ ì§€ì •í•˜ëŠ” ê²ƒì€ ì˜ë¯¸ê°€ ì—†ìŠµë‹ˆë‹¤. ê²°êµ­, ì¢…ì†ì„±ì€ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ë³€ê²½ë  ë•Œë§Œ ë¬´ì–¸ê°€ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤!

ë°˜ë©´ì— `roomId`ëŠ” ë‹¤ì‹œ ë Œë”ë§í•  ë•Œ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. **ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ì„ ì–¸ëœ í”„ë¡œí¼í‹°, state ë° ê¸°íƒ€ ê°’ì€ ë Œë”ë§ ì¤‘ì— ê³„ì‚°ë˜ê³  React ë°ì´í„° íë¦„ì— ì°¸ì—¬í•˜ê¸° ë•Œë¬¸ì— *ë°˜ì‘í˜•*ì…ë‹ˆë‹¤.**

`serverUrl`ì´ ìƒíƒœ ë³€ìˆ˜ë¼ë©´ ë°˜ì‘í˜•ì¼ ê²ƒì…ë‹ˆë‹¤. ë°˜ì‘í˜• ê°’ì€ ì¢…ì†ì„±ì— í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤:

```javascript
function ChatRoom({ roomId }) {
  // Props change over time
  const [serverUrl, setServerUrl] = useState('https://localhost:1234'); // State may change over time

  useEffect(() => {
    const connection = createConnection(serverUrl, roomId); // Your Effect reads props and state
    connection.connect();
    return () => {
      connection.disconnect();
    };
  }, [roomId, serverUrl]); // So you tell React that this Effect "depends on" on props and state
  // ...
}
```

`serverUrl`ì„ ì¢…ì†ì„±ìœ¼ë¡œ í¬í•¨í•˜ë©´ Effectê°€ ë³€ê²½ëœ í›„ ë‹¤ì‹œ ë™ê¸°í™”ë˜ë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```javascript
import { useState, useEffect } from 'react';
import { createConnection } from './chat.js';

function ChatRoom({ roomId }) {
  const [serverUrl, setServerUrl] = useState('https://localhost:1234');

  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => connection.disconnect();
  }, [roomId, serverUrl]);

  return (
    <>
      <label>
        Server URL:{' '}
        <input
          value={serverUrl}
          onChange={(e) => setServerUrl(e.target.value)}
        />
      </label>
      <h1>Welcome to the {roomId} room!</h1>
    </>
  );
}

export default function App() {
  const [roomId, setRoomId] = useState('general');
  return (
    <>
      <label>
        Choose the chat room:{' '}
        <select value={roomId} onChange={(e) => setRoomId(e.target.value)}>
          <option value='general'>general</option>
          <option value='travel'>travel</option>
          <option value='music'>music</option>
        </select>
      </label>
      <hr />
      <ChatRoom roomId={roomId} />
    </>
  );
}
```

`roomId` ë˜ëŠ” `serverUrl`ê³¼ ê°™ì€ ë°˜ì‘í˜• ê°’ì„ ë³€ê²½í•  ë•Œë§ˆë‹¤ Effectê°€ ì±„íŒ… ì„œë²„ì— ë‹¤ì‹œ ì—°ê²°ë©ë‹ˆë‹¤.

### ë¹ˆ ì¢…ì†ì„±ì´ ìˆëŠ” Effectì˜ ì˜ë¯¸

`serverUrl`ê³¼ `roomId`ë¥¼ ëª¨ë‘ ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ë¡œ ì´ë™í•˜ë©´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?

```javascript
const serverUrl = 'https://localhost:1234';
const roomId = 'general';

function ChatRoom() {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => {
      connection.disconnect();
    };
  }, []); // âœ… All dependencies declared
  // ...
}
```

ì´ì œ Effectì˜ ì½”ë“œëŠ” ë°˜ì‘í˜• ê°’ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì¢…ì†ì„±ì´ ë¹„ì–´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤(`[]`).

ì»´í¬ë„ŒíŠ¸ì˜ ê´€ì ì—ì„œ ìƒê°í•´ë³´ë©´, ë¹ˆ `[]` ì˜ì¡´ì„± ë°°ì—´ì€ ì´ Effectê°€ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œë§Œ ì±„íŒ…ë°©ì— ì—°ê²°ë˜ê³  ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ í•´ì œë  ë•Œë§Œ ì—°ê²°ì´ ëŠì–´ì§„ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. (ReactëŠ” Effectì˜ ë¡œì§ì„ ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ ê°œë°œ ë‹¨ê³„ì—ì„œ [í•œ ë²ˆ ë” ë™ê¸°í™”í•œë‹¤ëŠ” ì ](https://react.dev/learn/lifecycle-of-reactive-effects#how-react-verifies-that-your-effect-can-re-synchronize)ì„ ê¸°ì–µí•˜ì„¸ìš”).

```javascript
import { useState, useEffect } from 'react';
import { createConnection } from './chat.js';

const serverUrl = 'https://localhost:1234';
const roomId = 'general';

function ChatRoom() {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => connection.disconnect();
  }, []);
  return <h1>Welcome to the {roomId} room!</h1>;
}

export default function App() {
  const [show, setShow] = useState(false);
  return (
    <>
      <button onClick={() => setShow(!show)}>
        {show ? 'Close chat' : 'Open chat'}
      </button>
      {show && <hr />}
      {show && <ChatRoom />}
    </>
  );
}
```

í•˜ì§€ë§Œ [Effectì˜ ê´€ì ì—ì„œ ìƒê°í•˜ë©´](https://react.dev/learn/lifecycle-of-reactive-effects#thinking-from-the-effects-perspective) ë§ˆìš´íŠ¸ ë° ë§ˆìš´íŠ¸ í•´ì œì— ëŒ€í•´ ì „í˜€ ìƒê°í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. ì¤‘ìš”í•œ ê²ƒì€ Effectê°€ ë™ê¸°í™”ë¥¼ ì‹œì‘í•˜ê³  ì¤‘ì§€í•˜ëŠ” ì‘ì—…ì„ ì§€ì •í•œ ê²ƒì…ë‹ˆë‹¤. í˜„ì¬ëŠ” ë°˜ì‘í˜• ì¢…ì†ì„±ì´ ì—†ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì‚¬ìš©ìê°€ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ `roomId` ë˜ëŠ” `serverUrl`ì„ ë³€ê²½í•˜ê¸°ë¥¼ ì›í•œë‹¤ë©´(ê·¸ë˜ì„œ ë°˜ì‘í˜•ì´ì–´ì•¼ í•œë‹¤ë©´) Effectì˜ ì½”ë“œëŠ” ë³€ê²½ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì¢…ì†ì„±ì— ì¶”ê°€í•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.

### ì»´í¬ë„ŒíŠ¸ ë³¸ë¬¸ì—ì„œ ì„ ì–¸ëœ ëª¨ë“  ë³€ìˆ˜ëŠ” ë°˜ì‘í˜•ì…ë‹ˆë‹¤.

propsì™€ stateë§Œ ë°˜ì‘í˜• ê°’ì¸ ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤. ì´ë“¤ë¡œë¶€í„° ê³„ì‚°í•˜ëŠ” ê°’ë„ ë°˜ì‘í˜•ì…ë‹ˆë‹¤. í”„ë¡œí¼í‹°ë‚˜ ìƒíƒœê°€ ë³€ê²½ë˜ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ ë Œë”ë§ë˜ê³  ê·¸ë¡œë¶€í„° ê³„ì‚°ëœ ê°’ë„ ë³€ê²½ë©ë‹ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— Effectê°€ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ë³¸ë¬¸ì˜ ëª¨ë“  ë³€ìˆ˜ëŠ” Effect ì¢…ì†ì„± ëª©ë¡ì— ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

ì‚¬ìš©ìê°€ ë“œë¡­ë‹¤ìš´ì—ì„œ ì±„íŒ… ì„œë²„ë¥¼ ì„ íƒí•  ìˆ˜ ìˆì§€ë§Œ ì„¤ì •ì—ì„œ ê¸°ë³¸ ì„œë²„ë¥¼ êµ¬ì„±í•  ìˆ˜ë„ ìˆë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤. ì´ë¯¸ ì„¤ì • ìƒíƒœë¥¼ ì»¨í…ìŠ¤íŠ¸ì— ë„£ì–´ì„œ í•´ë‹¹ [ì»¨í…ìŠ¤íŠ¸](https://react.dev/learn/scaling-up-with-reducer-and-context)ì—ì„œ `ì„¤ì •`ì„ ì½ì—ˆë‹¤ê³  ê°€ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤. ì´ì œ propsì—ì„œ ì„ íƒí•œ ì„œë²„ì™€ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ê¸°ë³¸ ì„œë²„ë¥¼ ê¸°ì¤€ìœ¼ë¡œ `serverUrl`ì„ ê³„ì‚°í•©ë‹ˆë‹¤:

```javascript
function ChatRoom({ roomId, selectedServerUrl }) {
  // roomId is reactive
  const settings = useContext(SettingsContext); // settings is reactive
  const serverUrl = selectedServerUrl ?? settings.defaultServerUrl; // serverUrl is reactive
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId); // Your Effect reads roomId and serverUrl
    connection.connect();
    return () => {
      connection.disconnect();
    };
  }, [roomId, serverUrl]); // So it needs to re-synchronize when either of them changes!
  // ...
}
```

ì´ ì˜ˆì œì—ì„œ `serverUrl`ì€ í”„ë¡œí¼í‹°ë‚˜ ìƒíƒœ ë³€ìˆ˜ê°€ ì•„ë‹™ë‹ˆë‹¤. ë Œë”ë§ ì¤‘ì— ê³„ì‚°í•˜ëŠ” ì¼ë°˜ ë³€ìˆ˜ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ë Œë”ë§ ì¤‘ì— ê³„ì‚°ë˜ë¯€ë¡œ ì¬ë Œë”ë§ìœ¼ë¡œ ì¸í•´ ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì´ ë°”ë¡œ ë°˜ì‘í˜•ì¸ ì´ìœ ì…ë‹ˆë‹¤.

**ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì˜ ëª¨ë“  ê°’(ì»´í¬ë„ŒíŠ¸ ë³¸ë¬¸ì˜ í”„ë¡­, ìƒíƒœ, ë³€ìˆ˜ í¬í•¨)ì€ ë°˜ì‘í˜•ì…ë‹ˆë‹¤. ëª¨ë“  ë°˜ì‘í˜• ê°’ì€ ë‹¤ì‹œ ë Œë”ë§í•  ë•Œ ë³€ê²½ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë°˜ì‘í˜• ê°’ì„ Effectì˜ ì¢…ì†ì„±ìœ¼ë¡œ í¬í•¨ì‹œì¼œì•¼ í•©ë‹ˆë‹¤.**

ì¦‰, EffectëŠ” ì»´í¬ë„ŒíŠ¸ ë³¸ë¬¸ì˜ ëª¨ë“  ê°’ì— "ë°˜ì‘"í•©ë‹ˆë‹¤.

> **[DEEP DIVE] ì „ì—­ ë˜ëŠ” ë³€ê²½ ê°€ëŠ¥í•œ ê°’ì´ ì¢…ì†ì„±ì´ ë  ìˆ˜ ìˆë‚˜ìš”?**  
> ë³€ê²½ ê°€ëŠ¥í•œ ê°’(ì „ì—­ ë³€ìˆ˜ í¬í•¨)ì€ ë°˜ì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
>
> **[location.pathname](https://developer.mozilla.org/en-US/docs/Web/API/Location/pathname)ê³¼ ê°™ì€ ë³€ê²½ ê°€ëŠ¥í•œ ê°’ì€ ì¢…ì†ì„±ì´ ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.** ì´ ê°’ì€ ë³€ê²½ ê°€ëŠ¥í•˜ë¯€ë¡œ React ë Œë”ë§ ë°ì´í„° íë¦„ ì™¸ë¶€ì—ì„œ ì–¸ì œë“ ì§€ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê°’ì„ ë³€ê²½í•´ë„ ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ ë Œë”ë§ë˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì¢…ì†ì„±ì—ì„œ ì§€ì •í–ˆë”ë¼ë„ ReactëŠ” Effectê°€ ë³€ê²½ë  ë•Œ Effectë¥¼ ë‹¤ì‹œ ë™ê¸°í™”í• ì§€ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë˜í•œ ë Œë”ë§ ë„ì¤‘(ì˜ì¡´ì„±ì„ ê³„ì‚°í•  ë•Œ) ë³€ê²½ ê°€ëŠ¥í•œ ë°ì´í„°ë¥¼ ì½ëŠ” ê²ƒì€ [ë Œë”ë§ì˜ ìˆœìˆ˜ì„±](https://react.dev/learn/keeping-components-pure)ì„ ê¹¨ëœ¨ë¦¬ê¸° ë•Œë¬¸ì— Reactì˜ ê·œì¹™ì„ ìœ„ë°˜í•©ë‹ˆë‹¤. ëŒ€ì‹ , `useSyncExternalStore`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì™¸ë¶€ ë³€ê²½ ê°€ëŠ¥í•œ ê°’ì„ ì½ê³  êµ¬ë…í•´ì•¼ í•©ë‹ˆë‹¤.
>
> **`[ref.current](https://react.dev/reference/react/useRef#reference)`ì™€ ê°™ì´ ë³€ê²½ ê°€ëŠ¥í•œ ê°’ì´ë‚˜ ì´ ê°’ì—ì„œ ì½ì€ ê²ƒ ì—­ì‹œ ì¢…ì†ì„±ì´ ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.** `useRef`ê°€ ë°˜í™˜í•˜ëŠ” ref ê°ì²´ ìì²´ëŠ” ì¢…ì†ì„±ì´ ë  ìˆ˜ ìˆì§€ë§Œ `í˜„ì¬` í”„ë¡œí¼í‹°ëŠ” ì˜ë„ì ìœ¼ë¡œ ë³€ê²½ ê°€ëŠ¥í•©ë‹ˆë‹¤. [ì´ë¥¼ í†µí•´ ì¬ë Œë”ë§ì„ íŠ¸ë¦¬ê±°í•˜ì§€ ì•Šê³ ë„ ë¬´ì–¸ê°€ë¥¼ ì¶”ì í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.](https://react.dev/learn/referencing-values-with-refs) í•˜ì§€ë§Œ ë³€ê²½í•´ë„ ë‹¤ì‹œ ë Œë”ë§ì´ íŠ¸ë¦¬ê±°ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë°˜ì‘í˜• ê°’ì´ ì•„ë‹ˆë©°, ReactëŠ” ì´ ê°’ì´ ë³€ê²½ë  ë•Œ Effectë¥¼ ë‹¤ì‹œ ì‹¤í–‰í• ì§€ ì•Œì§€ ëª»í•©ë‹ˆë‹¤.
>
> ì´ í˜ì´ì§€ì—ì„œ ì•„ë˜ì—ì„œ ë°°ìš°ê²Œ ë˜ê² ì§€ë§Œ, ë¦°í„°ëŠ” ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ìë™ìœ¼ë¡œ í™•ì¸í•©ë‹ˆë‹¤

### ReactëŠ” ëª¨ë“  ë°˜ì‘í˜• ê°’ì„ ì¢…ì†ì„±ìœ¼ë¡œ ì§€ì •í–ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

ë¦°í„°ê°€ [Reactì— ëŒ€í•´ êµ¬ì„±ëœ](https://react.dev/learn/editor-setup#linting) ê²½ìš°, Effect ì½”ë“œì—ì„œ ì‚¬ìš©ë˜ëŠ” ëª¨ë“  ë°˜ì‘í˜• ê°’ì´ í•´ë‹¹ ì¢…ì†ì„±ìœ¼ë¡œ ì„ ì–¸ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `roomId` `serverUrl`ì´ ëª¨ë‘ ë°˜ì‘í˜•ì´ê¸° ë•Œë¬¸ì— ì´ê²ƒì€ ë¦°íŠ¸ ì˜¤ë¥˜ì…ë‹ˆë‹¤:

```javascript
import { useState, useEffect } from 'react';
import { createConnection } from './chat.js';

function ChatRoom({ roomId }) {
  // roomId is reactive
  const [serverUrl, setServerUrl] = useState('https://localhost:1234'); // serverUrl is reactive

  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => connection.disconnect();
  }, []); // <-- Something's wrong here!

  return (
    <>
      <label>
        Server URL:{' '}
        <input
          value={serverUrl}
          onChange={(e) => setServerUrl(e.target.value)}
        />
      </label>
      <h1>Welcome to the {roomId} room!</h1>
    </>
  );
}

export default function App() {
  const [roomId, setRoomId] = useState('general');
  return (
    <>
      <label>
        Choose the chat room:{' '}
        <select value={roomId} onChange={(e) => setRoomId(e.target.value)}>
          <option value='general'>general</option>
          <option value='travel'>travel</option>
          <option value='music'>music</option>
        </select>
      </label>
      <hr />
      <ChatRoom roomId={roomId} />
    </>
  );
}
```

ì´ê²ƒì€ React ì˜¤ë¥˜ì²˜ëŸ¼ ë³´ì¼ ìˆ˜ ìˆì§€ë§Œ ì‹¤ì œë¡œëŠ” ì½”ë“œì˜ ë²„ê·¸ë¥¼ ì§€ì í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. `roomId`ì™€ `serverUrl`ì€ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ë³€ê²½ë  ìˆ˜ ìˆì§€ë§Œ, ë³€ê²½ ì‹œ Effectë¥¼ ë‹¤ì‹œ ë™ê¸°í™”í•˜ëŠ” ê²ƒì„ ìŠì–´ë²„ë¦¬ê³  ìˆìŠµë‹ˆë‹¤. ê²°ê³¼ì ìœ¼ë¡œ ì‚¬ìš©ìê°€ UIì—ì„œ ë‹¤ë¥¸ ê°’ì„ ì„ íƒí•œ í›„ì—ë„ ì´ˆê¸° `roomId`ì™€ `serverUrl`ì— ì—°ê²°ëœ ìƒíƒœë¡œ ìœ ì§€ë©ë‹ˆë‹¤.

ë²„ê·¸ë¥¼ ìˆ˜ì •í•˜ë ¤ë©´ ë¦°í„°ì˜ ì œì•ˆì— ë”°ë¼ Effectì˜ ì¢…ì† ìš”ì†Œë¡œ `roomId` ë° `serverUrl`ì„ ì§€ì •í•˜ì„¸ìš”:

```javascript
function ChatRoom({ roomId, serverUrl }) {
  const [serverUrl, setServerUrl] = useState('https://localhost:1234'); // serverUrl is reactive
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => {
      connection.disconnect();
    };
  }, [serverUrl, roomId]); // âœ… All dependencies declared
  // ...
}
```

ìœ„ì—ì„œ ì´ ìˆ˜ì • ì‚¬í•­ì„ ì‹œë„í•´ ë³´ì„¸ìš”. ì§€ì—° ì˜¤ë¥˜ê°€ ì‚¬ë¼ì§€ê³  í•„ìš”í•  ë•Œ ì±„íŒ…ì´ ë‹¤ì‹œ ì—°ê²°ë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

> **Note**  
> ì–´ë–¤ ê²½ìš°ì—ëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ê°’ì´ ì„ ì–¸ë˜ë”ë¼ë„ ì ˆëŒ€ ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ Reactê°€ _ì•Œê³ _ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `useState`ì—ì„œ ë°˜í™˜ëœ [set í•¨ìˆ˜](https://react.dev/reference/react/useState#setstate)ì™€ [useRef](https://react.dev/reference/react/useRef)ì—ì„œ ë°˜í™˜ëœ ref ê°ì²´ëŠ” ì¬ë Œë”ë§ ì‹œ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ ë³´ì¥ë˜ëŠ” _ì•ˆì •ì _ ê°’ì…ë‹ˆë‹¤. ì•ˆì •ëœ ê°’ì€ ë°˜ì‘í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë¦°í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ëª©ë¡ì—ì„œ ìƒëµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ëŸ¬í•œ ê°’ì„ í¬í•¨í•˜ëŠ” ê²ƒì€ í—ˆìš©ë©ë‹ˆë‹¤. ë³€ê²½ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ìƒê´€ì—†ìŠµë‹ˆë‹¤.

### ë‹¤ì‹œ ë™ê¸°í™”í•˜ì§€ ì•Šìœ¼ë ¤ëŠ” ê²½ìš° ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?

ì´ì „ ì˜ˆì œì—ì„œëŠ” `roomId`ì™€ `serverUrl`ë¥¼ ì¢…ì†ì„±ìœ¼ë¡œ ë‚˜ì—´í•˜ì—¬ ë¦°íŠ¸ ì˜¤ë¥˜ë¥¼ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.

**ê·¸ëŸ¬ë‚˜ ëŒ€ì‹  ì´ëŸ¬í•œ ê°’ì´ ë°˜ì‘í˜• ê°’ì´ ì•„ë‹ˆë¼ëŠ” ê²ƒ, ì¦‰ ì¬ë Œë”ë§ì˜ ê²°ê³¼ë¡œ ë³€ê²½ë  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì„ ë¦°í„°ì— "ì¦ëª…"í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.** ì˜ˆë¥¼ ë“¤ì–´ `serverUrl`ê³¼ `roomId`ê°€ ë Œë”ë§ì— ì˜ì¡´í•˜ì§€ ì•Šê³  í•­ìƒ ê°™ì€ ê°’ì„ ê°–ëŠ”ë‹¤ë©´ ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ë¡œ ì˜®ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì œ ì¢…ì†ì„±ì´ ë  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤:

```javascript
const serverUrl = 'https://localhost:1234'; // serverUrl is not reactive
const roomId = 'general'; // roomId is not reactive

function ChatRoom() {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => {
      connection.disconnect();
    };
  }, []); // âœ… All dependencies declared
  // ...
}
```

Effect ë‚´ë¶€ë¡œ ì´ë™í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ë Œë”ë§ ì¤‘ì— ê³„ì‚°ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë°˜ì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤:

```javascript
function ChatRoom() {
  useEffect(() => {
    const serverUrl = 'https://localhost:1234'; // serverUrl is not reactive
    const roomId = 'general'; // roomId is not reactive
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => {
      connection.disconnect();
    };
  }, []); // âœ… All dependencies declared
  // ...
}
```

**EffectëŠ” ë°˜ì‘í˜• ì½”ë“œ ë¸”ë¡ì…ë‹ˆë‹¤.** ë‚´ë¶€ì—ì„œ ì½ì€ ê°’ì´ ë³€ê²½ë˜ë©´ ë‹¤ì‹œ ë™ê¸°í™”ë©ë‹ˆë‹¤. ìƒí˜¸ì‘ìš©ë‹¹ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì™€ ë‹¬ë¦¬ EffectëŠ” ë™ê¸°í™”ê°€ í•„ìš”í•  ë•Œë§ˆë‹¤ ì‹¤í–‰ë©ë‹ˆë‹¤.

**ì¢…ì†ì„±ì„ "ì„ íƒ"í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.** ì¢…ì†ì„±ì—ëŠ” Effectì—ì„œ ì½ì€ ëª¨ë“  [ë¦¬ì•¡í‹°ë¸Œ ê°’](https://beta.reactjs.org/learn/lifecycle-of-reactive-effects#all-variables-declared-in-the-component-body-are-reactive)ì´ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ë¦°í„°ê°€ ì´ë¥¼ ê°•ì œí•©ë‹ˆë‹¤. ë•Œë•Œë¡œ ì´ë¡œ ì¸í•´ ë¬´í•œ ë£¨í”„ì™€ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ Effectê°€ ë„ˆë¬´ ìì£¼ ë‹¤ì‹œ ë™ê¸°í™”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¦°í„°ë¥¼ ì–µì œí•˜ì—¬ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ì§€ ë§ˆì„¸ìš”! ëŒ€ì‹  ì‹œë„í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

- **Effectê°€ ë…ë¦½ì ì¸ ë™ê¸°í™” í”„ë¡œì„¸ìŠ¤ë¥¼ ë‚˜íƒ€ë‚´ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.** Effectê°€ ì•„ë¬´ê²ƒë„ ë™ê¸°í™”í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ [ë¶ˆí•„ìš”í•œ ê²ƒì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤](https://react.dev/learn/you-might-not-need-an-effect). ì—¬ëŸ¬ ê°œì˜ ë…ë¦½ì ì¸ ê²ƒì„ ë™ê¸°í™”í•˜ëŠ” ê²½ìš° [ë¶„í• í•˜ì„¸ìš”](https://react.dev/learn/lifecycle-of-reactive-effects#each-effect-represents-a-separate-synchronization-process).
- **propì´ë‚˜ stateì— 'ë°˜ì‘'í•˜ì§€ ì•Šê³  Effectë¥¼ ë‹¤ì‹œ ë™ê¸°í™”í•˜ì§€ ì•Šê³  ìµœì‹  ê°’ì„ ì½ìœ¼ë ¤ë©´** Effectë¥¼ ë°˜ì‘í•˜ëŠ” ë¶€ë¶„(Effectì— ìœ ì§€)ê³¼ ë°˜ì‘í•˜ì§€ ì•ŠëŠ” ë¶€ë¶„(ì´ë²¤íŠ¸ í•¨ìˆ˜ë¼ëŠ” ê²ƒìœ¼ë¡œ ì¶”ì¶œ)ìœ¼ë¡œ ë¶„ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. [ì´ë²¤íŠ¸ì™€ Effectë¥¼ ë¶„ë¦¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ìì„¸íˆ ì½ì–´ë³´ì„¸ìš”.](https://react.dev/learn/separating-events-from-effects)
- **ê°ì²´ì™€ í•¨ìˆ˜ë¥¼ ì¢…ì†ì„±ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”.** ë Œë”ë§ ì¤‘ì— ì˜¤ë¸Œì íŠ¸ì™€ í•¨ìˆ˜ë¥¼ ìƒì„±í•œ ë‹¤ìŒ Effectì—ì„œ ì½ìœ¼ë©´ ë Œë”ë§í•  ë•Œë§ˆë‹¤ ì˜¤ë¸Œì íŠ¸ì™€ í•¨ìˆ˜ê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ë§¤ë²ˆ Effectë¥¼ ë‹¤ì‹œ ë™ê¸°í™”í•´ì•¼ í•©ë‹ˆë‹¤. [Effectì—ì„œ ë¶ˆí•„ìš”í•œ ì¢…ì†ì„±ì„ ì œê±°í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ìì„¸íˆ ì½ì–´ë³´ì„¸ìš”.](https://react.dev/learn/removing-effect-dependencies)

> **Pitfall**
> ë¦°í„°ëŠ” ì—¬ëŸ¬ë¶„ì˜ ì¹œêµ¬ì´ì§€ë§Œ ê·¸ í˜ì€ ì œí•œë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë¦°í„°ëŠ” ì¢…ì†ì„±ì´ ì˜ëª»ë˜ì—ˆì„ ë•Œë§Œ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê° ì‚¬ë¡€ë¥¼ í•´ê²°í•˜ëŠ” ìµœì„ ì˜ ë°©ë²•ì€ ì•Œì§€ ëª»í•©ë‹ˆë‹¤. ë§Œì•½ ë¦°í„°ê°€ ì¢…ì†ì„±ì„ ì œì•ˆí•˜ì§€ë§Œ ì´ë¥¼ ì¶”ê°€í•˜ë©´ ë£¨í”„ê°€ ë°œìƒí•œë‹¤ê³  í•´ì„œ ë§í„°ë¥¼ ë¬´ì‹œí•´ì•¼ í•œë‹¤ëŠ” ì˜ë¯¸ëŠ” ì•„ë‹™ë‹ˆë‹¤. í•´ë‹¹ ê°’ì´ ë°˜ì‘ì ì´ì§€ ì•Šê³  ì¢…ì†ì„±ì´ ë  í•„ìš”ê°€ ì—†ë„ë¡ Effect ë‚´ë¶€(ë˜ëŠ” ì™¸ë¶€)ì˜ ì½”ë“œë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.
>
> ê¸°ì¡´ ì½”ë“œë² ì´ìŠ¤ê°€ ìˆëŠ” ê²½ìš° ì´ì™€ ê°™ì´ ë¦°í„°ë¥¼ ì–µì œí•˜ëŠ” Effectê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
>
> ```javascript
> useEffect(() => {
>   // ...
>   // ğŸ”´ Avoid suppressing the linter like this:
>   // eslint-ignore-next-line react-hooks/exhaustive-deps
> }, []);
> ```
>
> [ë‹¤ìŒ í˜ì´ì§€](https://react.dev/learn/removing-effect-dependencies)ì—ì„œëŠ” ê·œì¹™ì„ ìœ„ë°˜í•˜ì§€ ì•Šê³  ì´ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì„¸ìš”. ì–¸ì œë‚˜ ê³ ì¹  ê°€ì¹˜ê°€ ìˆìŠµë‹ˆë‹¤!

## Recap

- ì»´í¬ë„ŒíŠ¸ëŠ” ë§ˆìš´íŠ¸, ì—…ë°ì´íŠ¸, ë§ˆìš´íŠ¸ í•´ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ê° EffectëŠ” ì£¼ë³€ ì»´í¬ë„ŒíŠ¸ì™€ ë³„ë„ì˜ ë¼ì´í”„ì‚¬ì´í´ì„ ê°€ì§‘ë‹ˆë‹¤.
- ê° EffectëŠ” _ì‹œì‘_ ë° _ì¤‘ì§€_ í•  ìˆ˜ ìˆëŠ” ë³„ë„ì˜ ë™ê¸°í™” í”„ë¡œì„¸ìŠ¤ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.
- Effectë¥¼ ì‘ì„±í•˜ê³  ì½ì„ ë•ŒëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ê´€ì (ë§ˆìš´íŠ¸, ì—…ë°ì´íŠ¸ ë˜ëŠ” ë§ˆìš´íŠ¸ í•´ì œ ë°©ë²•)ì´ ì•„ë‹ˆë¼ ê° ê°œë³„ Effectì˜ ê´€ì (ë™ê¸°í™” ì‹œì‘ ë° ì¤‘ì§€ ë°©ë²•)ì—ì„œ ìƒê°í•´ì•¼ í•©ë‹ˆë‹¤.
- ì»´í¬ë„ŒíŠ¸ ë³¸ë¬¸ ë‚´ë¶€ì— ì„ ì–¸ëœ ê°’ì€ "ë°˜ì‘í˜•"ì…ë‹ˆë‹¤.
- ë°˜ì‘í˜• ê°’ì€ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ë³€ê²½ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ Effectë¥¼ ë‹¤ì‹œ ë™ê¸°í™”í•´ì•¼ í•©ë‹ˆë‹¤.
- ì¸í„°í”„ë¦¬í„°ëŠ” Effect ë‚´ë¶€ì—ì„œ ì‚¬ìš©ëœ ëª¨ë“  ë°˜ì‘í˜• ê°’ì´ ì¢…ì†ì„±ìœ¼ë¡œ ì§€ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
- ë¦°í„°ì— ì˜í•´ í”Œë˜ê·¸ê°€ ì§€ì •ëœ ëª¨ë“  ì˜¤ë¥˜ëŠ” í•©ë²•ì ì¸ ì˜¤ë¥˜ì…ë‹ˆë‹¤. ê·œì¹™ì„ ìœ„ë°˜í•˜ì§€ ì•ŠëŠ” ì½”ë“œë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ í•­ìƒ ìˆìŠµë‹ˆë‹¤.
